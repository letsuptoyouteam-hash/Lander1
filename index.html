<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç—Ä–µ–∫–µ—Ä–∞</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: #f4f6f8;
      color: #222;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    .params {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      padding: 20px 30px;
      font-size: 1.2rem;
      line-height: 1.6;
      max-width: 600px;
      width: 100%;
    }
    .param {
      display: flex;
      justify-content: space-between;
      border-bottom: 1px solid #eee;
      padding: 6px 0;
    }
    .param:last-child {
      border-bottom: none;
    }
    .param span:first-child {
      font-weight: 600;
      color: #555;
    }
    .param span:last-child {
      color: #000;
      word-break: break-all;
      text-align: right;
      max-width: 60%;
    }
  </style>
  <script>
    function getParam(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name) || '';
    }

    window.addEventListener('DOMContentLoaded', () => {
      const site = getParam('site');
      const site_id = getParam('site_id');
      const title = getParam('title');
      const platform = getParam('platform');
      const campaign_id = getParam('campaign_id');
      const campaign_item_id = getParam('campaign_item_id');
      const thumbnail = getParam('thumbnail');
      const click_id = getParam('click_id');

      // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç—Ä–µ–∫–∏–Ω–≥–æ–≤—ã–π URL —Å campaign_id –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ
      const trackingUrl = `https://guirmannurcence.com/impression/${encodeURIComponent(campaign_id)}?site=${encodeURIComponent(site)}&site_id=${encodeURIComponent(site_id)}&title=${encodeURIComponent(title)}&platform=${encodeURIComponent(platform)}&campaign_id=${encodeURIComponent(campaign_id)}&campaign_item_id=${encodeURIComponent(campaign_item_id)}&thumbnail=${encodeURIComponent(thumbnail)}&click_id=${encodeURIComponent(click_id)}`;

      // ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–∏–∫—Å–µ–ª—å –¢–û–õ–¨–ö–û –æ–¥–∏–Ω —Ä–∞–∑
      const img = document.createElement('img');
      img.src = trackingUrl;
      img.style.display = 'none';
      document.body.appendChild(img);

      // –í—ã–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
      const params = { site, site_id, title, platform, campaign_id, campaign_item_id, thumbnail, click_id };
      const paramsBox = document.querySelector('.params');
      paramsBox.innerHTML = Object.entries(params).map(([key, value]) => `
        <div class="param"><span>${key}:</span><span>${value}</span></div>
      `).join('');
    });
  </script>
</head>
<body>
  <h1>üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—ã—á–∏—Ç–∞–Ω—ã –∏–∑ —Å—Å—ã–ª–∫–∏</h1>
  <div class="params">
    <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥—Å—Ç–∞–≤—è—Ç—Å—è —Å—é–¥–∞ -->
  </div>
</body>
</html>
